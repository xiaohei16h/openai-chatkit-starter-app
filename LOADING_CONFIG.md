# 加载状态配置功能

## 功能概述

现在你可以完全自定义 ChatKit 应用中的加载状态消息，包括初始化、连接、重试和错误状态的消息文本。

## 配置选项

### 1. 初始化消息
- **默认值**: "正在初始化聊天助手..."
- **用途**: 当应用首次加载时显示的消息
- **配置位置**: 设置面板 → 常规设置 → 加载状态消息 → 初始化消息

### 2. 连接消息
- **默认值**: "正在连接服务器..."
- **用途**: 当建立与服务器连接时显示的消息
- **配置位置**: 设置面板 → 常规设置 → 加载状态消息 → 连接消息

### 3. 重试消息
- **默认值**: "正在重试连接..."
- **用途**: 当连接失败后重试时显示的消息
- **配置位置**: 设置面板 → 常规设置 → 加载状态消息 → 重试消息

### 4. 错误消息
- **默认值**: "连接失败，请检查网络设置"
- **用途**: 当连接完全失败时显示的消息
- **配置位置**: 设置面板 → 常规设置 → 加载状态消息 → 错误消息

## 使用方法

### 1. 打开设置面板
- 点击右上角的设置按钮（齿轮图标）
- 选择"常规设置"标签页

### 2. 配置加载消息
- 在"加载状态消息"部分，你可以修改各种状态下的消息文本
- 所有修改都会实时生效
- 设置会自动保存到本地存储

### 3. 实时预览
- 左上角的设置信息面板会显示当前的初始化消息（截断显示）
- 修改设置后，加载状态会立即使用新的消息文本

## 技术实现

### 组件结构
```
hooks/useSettings.ts          # 设置状态管理
components/ErrorOverlay.tsx   # 加载状态显示组件
components/SettingsPanel.tsx  # 设置界面
components/ChatKitPanel.tsx   # 主聊天组件
app/App.tsx                   # 应用主页面
```

### 状态管理
- 使用 `useSettings` Hook 管理所有设置
- 支持本地存储持久化
- 跨标签页同步

### 加载动画
- 加载状态显示旋转动画
- 错误状态显示重试按钮
- 支持明暗主题切换

## 自定义示例

### 英文版本
```javascript
loadingMessages: {
  initializing: "Initializing chat assistant...",
  connecting: "Connecting to server...",
  retrying: "Retrying connection...",
  error: "Connection failed, please check your network settings"
}
```

### 中文版本
```javascript
loadingMessages: {
  initializing: "正在初始化聊天助手...",
  connecting: "正在连接服务器...",
  retrying: "正在重试连接...",
  error: "连接失败，请检查网络设置"
}
```

### 个性化版本
```javascript
loadingMessages: {
  initializing: "🤖 AI助手正在启动...",
  connecting: "🌐 正在建立连接...",
  retrying: "🔄 重新尝试连接...",
  error: "❌ 连接失败，请稍后重试"
}
```

## 注意事项

1. **消息长度**: 建议保持消息简洁，避免过长影响用户体验
2. **实时生效**: 所有修改都会立即生效，无需刷新页面
3. **持久化**: 设置会自动保存，下次访问时会恢复
4. **导入导出**: 可以通过设置面板的"导入/导出"功能备份和分享配置

## 故障排除

如果遇到问题：

1. **设置不生效**: 检查浏览器控制台是否有错误
2. **消息不显示**: 确认设置面板中的消息配置正确
3. **样式问题**: 检查主题设置是否正确配置

## 开发扩展

如果需要添加更多加载状态类型：

1. 在 `useSettings.ts` 中的 `ChatSettings` 类型添加新字段
2. 在 `DEFAULT_SETTINGS` 中添加默认值
3. 在 `SettingsPanel.tsx` 中添加配置界面
4. 在 `ErrorOverlay.tsx` 中添加对应的处理逻辑
5. 在 `ChatKitPanel.tsx` 中使用新的配置

这样你就可以完全自定义 ChatKit 应用的加载状态体验了！
